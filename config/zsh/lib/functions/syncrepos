function syncrepos() {
    local notes='/home/yuri/Documents/ObsidianNotes/'
    local commit_message="${2:-Sync}"
    
    cd $notes
    echo "Changed directory to: $1"

    # Fetch latest changes from the remote repository
    echo "Fetching latest changes from the remote repository..."
    git fetch

    # Compare local and remote repositories
    local_status=$(git rev-parse @)
    remote_status=$(git rev-parse @{u})
    base_status=$(git merge-base @ @{u})

    if [ "$local_status" = "$remote_status" ]; then
        echo "Local and remote repositories are up to date. Nothing to do."
    elif [ "$local_status" = "$base_status" ]; then
        echo "Local repository is behind the remote repository. Pulling changes..."
        git pull
    elif [ "$remote_status" = "$base_status" ]; then
        echo "Local repository is ahead of the remote repository. Changes detected. Adding files to the staging area..."
        if [[ $(git status --porcelain) ]]; then
            git add .
            echo "Committing changes with message: $commit_message"
            git commit -m "$commit_message"
            echo "Pushing changes to remote repository..."
            git push
        else
            echo "No changes to commit."
        fi
    else
        echo "Local and remote repositories have diverged. Manual intervention required."
    fi
}

